<?xml version="1.0" encoding="UTF-8"?>
<chapter 
    xmlns="http://docbook.org/ns/docbook" 
    xmlns:xlink="http://www.w3.org/1999/xlink"
    xmlns:xi="http://www.w3.org/2001/XInclude" 
    xml:lang="en" xml:id="majisti.view" 
    version="5.0">
    
    <title>Majisti\View</title>
    
    <para>The <classname>View</classname> class is basically the same as a
            <classname>Zend_View</classname> class except that it adds two more
        behaviours. <itemizedlist>
            <listitem>
                <para>It proxies the <methodname>translate</methodname>
                    function from a translator with the 'underscore' function.
                    That way, a controller can do
                        <methodname>$this->view->_('messageToTranslate')</methodname>
                    or a view can do the same with
                        <methodname>$this->_('messageToTranslate')</methodname>.</para>
            </listitem>
            <listitem>
                <para>It support multiple script directories working in
                    concordance with the <link
                        xlink:href="majisti.controller.dispatcher.html"
                        >Multiple Dispatcher</link>.</para>
            </listitem>
        </itemizedlist></para>
    <section>
        <title>Oriented object HTML</title>
        <para>With the view, it is possible to use object oriented HTML such as
            phpQuery. Instetad of outputing the content using the
                <methodname>print</methodname> or <methodname>echo</methodname>
            functions, you pass the object as a return object, using the
                <methodname>setRenderReturn($obj)</methodname> method within
            your view
            scripts.<programlisting>//view.phtml
$container = pq('&lt;div />')
    ->addClass('foo')
    ->append($this->render('anotherView.phtml') //provided it uses setRenderReturn as well
;

$this->setRenderReturn($container);</programlisting></para>
        <para>Using an OO approach opens the way for very flexible layouts and
            content while limiting (if not removing at all) the usage of php
            tags.</para>
    </section>
    
    <xi:include href="helpers.xml" />
    <xi:include href="scripts.xml" />
</chapter>
