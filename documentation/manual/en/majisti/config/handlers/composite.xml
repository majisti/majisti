<?xml version="1.0" encoding="UTF-8"?>
<section 
    xmlns="http://docbook.org/ns/docbook" 
    xmlns:xlink="http://www.w3.org/1999/xlink"
    xmlns:xi="http://www.w3.org/2001/XInclude" 
    xml:lang="en" xml:id="majisti.config.handlers.composite" version="5.0">
    
    <title>Composite</title>
    
    <para>The <classname>Composite</classname> handler class follows the GoF Composite pattern,
        allowing the user to stack multiple handlers and make them act as one. The composite handler
        extends Majisti's Stack class, allowing users to push as many handlers as they want. The
        composite function, <code>handle()</code>, will loop over the stack and pop each handler it
        contains, running their respective handle()  and merging the results in the returned
            <classname>Zend_Config</classname> object.</para>
    <para>This way, one can have Import, Markup and Property handlers all handling at once a
        configuration file, by simply doing the
        following:<programlisting>$config = new \Zend_Config_Ini('path/to/file', 'sectionName', true);

$propertyHandler = new Property();
$markupHandler   = new Markup();
$importHandler   = new Import();

$composite       = new Composite();
$composite->push( array( $propertyHandler, $markupHandler, $importHandler ) );

$composite->handle($config);</programlisting></para>
    <para>The result: one handle call worth three. Bravissimo.</para>
</section>
